files:
  /etc/pki/tls/certs/server.crt:
    content: |
      -----BEGIN CERTIFICATE-----
      MIIDpzCCAo8CFDAixzDds1ZcbBsW4icTATj19SxEMA0GCSqGSIb3DQEBCwUAMIGPMQswCQYDVQQGEwJSVTEWMBQGA1UECAwNQW5kcmVpIE1hcmtvdjEPMA0GA1UEBwwGTW9zY293MQwwCgYDVQQKDANOREIxDDAKBgNVBAsMA25kYjEPMA0GA1UEAwwGQW5kcmVpMSowKAYJKoZIhvcNAQkBFhttYWlsdG9hc2FoaTk2MDUwNUBnbWFpbC5jb20wHhcNMjExMjA5MjAzODM0WhcNMjIxMjA5MjAzODM0WjCBjzELMAkGA1UEBhMCUlUxFjAUBgNVBAgMDUFuZHJlaSBNYXJrb3YxDzANBgNVBAcMBk1vc2NvdzEMMAoGA1UECgwDTkRCMQwwCgYDVQQLDANuZGIxDzANBgNVBAMMBkFuZHJlaTEqMCgGCSqGSIb3DQEJARYbbWFpbHRvYXNhaGk5NjA1MDVAZ21haWwuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAw6ANyMM8mztZaX9DpufU/fVnTTLFKhhotHxvUYqPhY6HU7PPE3/wlnec8UkE7yR5F/RvMGJXW0NjQdiOXg07j7W+o04KEOXpmW8uw18cSGhdTVZZyN3DUHlE/iv6iAO2eJGcvAHsAcAVl/7SU7Q4QZos+JmIlAY1oWE2jZ7sI1u30gxUSiHwxrjJ8D/MvY0lver0yaVngdyOw3cl4T42/G5iz6CoQsqSa3E9XpG6I7IN/Yj83ZWv+/Ktx0pv7uv1p8JMxhIgxZsjjhlSZoRXGm9s1H9z0XX0QrMe32PUiZCKxV9qHItviMj5Jz9AKFcepyEULJm/DlmOvsDz4SK8CwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQC6npLSuf0RsI30oF+w0Hf8x7/N31Hsa7D9eza1Z78xF3MonG6yh73i08OHi2eJO5f850fuFch+gv3B+1TZFreTc0QTKrdavg7Md/TjkmZUWkbxBuivCOkLGpc29UdebpdCS/M1AUyouRHDuM87geH0nTLbCe2x4G5FLy+3tCp8JcCmeRk7Qd3PgGN7Rhr0NkolHE2crXtlQPoDSuI0qs6+OUejobwKiDaHpdHOdYs0JYb1AkRKe8HP8eAE0f9+Wc/xHh0FNOIhP/OPJ3gC05H4SvyY8vweByjvL2svNgtdq/hSFbafzi9JsAmteSJ283hn63U8Jk2slFyrgGCzTOBL
      -----END CERTIFICATE-----
      
  /etc/pki/tls/certs/server.key:
    content: |
      -----BEGIN RSA PRIVATE KEY-----
      MIIEpQIBAAKCAQEAw6ANyMM8mztZaX9DpufU/fVnTTLFKhhotHxvUYqPhY6HU7PPE3/wlnec8UkE7yR5F/RvMGJXW0NjQdiOXg07j7W+o04KEOXpmW8uw18cSGhdTVZZyN3DUHlE/iv6iAO2eJGcvAHsAcAVl/7SU7Q4QZos+JmIlAY1oWE2jZ7sI1u30gxUSiHwxrjJ8D/MvY0lver0yaVngdyOw3cl4T42/G5iz6CoQsqSa3E9XpG6I7IN/Yj83ZWv+/Ktx0pv7uv1p8JMxhIgxZsjjhlSZoRXGm9s1H9z0XX0QrMe32PUiZCKxV9qHItviMj5Jz9AKFcepyEULJm/DlmOvsDz4SK8CwIDAQABAoIBAE3fIJ2SWkXQ0j7UkjGWh4qwbXalhybCoKt3/TgQWCFqIySGpx+0BilfY/IIhxZLBokqnDg+bVe+83v6oHGAAv2p80E+h3NCkkKpp4vOCIwqPznR7duvq1gVbglfqFMMZ06HaETO3wuzUuU2YrM/QkWbAdvUAjIqZp7e+8BUStunq7DxbmqZ1aLGLAnk7TxNcCN1PjYzE688Wo83NiFsnskg7FjAz/3oZJzHMKMoBK19rDtkBjuE0neUTF9oP9O6KEENyYDIxF5yo/vP3b4JTO0yvDOgoATO2ysd4U+a3I6IphUg9MdCzvgFXs8NCeDcREBDPOro4kz2SbNDmFTMS4ECgYEA+nXzj5QsKXcbZKy8Oy6vSxHL4uQXWkP5bjTzUFToqYsNf9bgv0r9KHMwRB28b0yEdrxRjFVMxYVVXAhZ0y82dGlSJa/KPv+b9Z2qx9G57Uw6iisqSHN55pb7hMGez2rOuM6cmsB8ly2WoCGJW+/bD91N0qEK38iB8fHqvDavEhkCgYEAx/OjBPcxrKcv+SnpjZ7vALzeScHm0hscGmX9YjhjDZUtzjr0vE/hLA7nbS4QfFJ766K3Jh2RjShv587oxPtuQ1oDFhDXfij/3LQGWhYsg32qUByHTCDXZHnviBXMwEJEo+d2VC941583dkK/nebwCSuRLwlXog+rRWkV2Tjj68MCgYEAkRUASFxxlHdtQ80XoESzwA2ICF9N87jKZP+BLjhxKbzlzfbf6495xBOtkteSzvoJBWqi5mKG/Sf2QUCJH98KcTaNIk2JHyMb6ZQyWFtxkzcD9gN5E8zogR1WhxlNcCMTqlPsvWvhAAWlag7jLYFsaO0t5mPpE6ZnN4qGCg63LQkCgYEAt8TzWhf6/qy2CbF8px2gmjP7tRxSEV67KIP+KmyalRw7eiRzVDOyRvT3vD+vBSQmIn5tB8n7QRoeJ5XiF1DimWI8Heait5/k8KpAgEGK7drsUi62JsC0VfM/s/odMcJ2JZIRDfSHgt0hcz6LsAtVJ4h0Kh/S++6cwfGAFCIWUFMCgYEAjjDBr3Vw1xdRnph97wdr13Id1n82d408/S9KqZkBo152YlEI0GEAe+8eRbQRBwQw0CWtEhdiE5PL6asxh/udVHOWfSf+y40N2ThZza09eW/S0Fm0Zctm/Eh6l+lakOn4msm/Uw/kvLBR1LJ5I9qaQjg1IXDyNmSZrMVh1eE/NTk=
      -----END RSA PRIVATE KEY-----

container_commands:
  01restart_nginx:
    command: "service nginx restart"
Resources:
  sslSecurityGroupIngress: 
    Type: AWS::EC2::SecurityGroupIngress
    Properties:
      GroupId: {"Fn::GetAtt" : ["AWSEBSecurityGroup", "GroupId"]}
      IpProtocol: tcp
      ToPort: 443
      FromPort: 443
      CidrIp: 0.0.0.0/0